<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Planteles ‚Äî L√≠nea de Avance</title>

    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header class="topbar" style="display:flex;align-items:center;gap:12px;">
        <h1 style="margin:0">Dashboard Planteles ‚Äî L√≠nea de Avance</h1>

        <div class="tabs" style="margin-left:12px;">
            <button class="tab active" data-view="visual" onclick="switchView('visual')">Visualizaci√≥n</button>
            <button class="tab" data-view="config" onclick="switchView('config')">Configuraci√≥n</button>
        </div>

        <div style="margin-left:auto;">
            <button id="btnMenu" class="btn" title="Ir al men√∫ principal">Menu</button>
        </div>
    </header>


    <section id="visualView">

        <div id="hitosWrap" class="hitos-wrap">
            <div id="connectorLine" class="connector-line"></div>
        </div>

        <div id="detalleArea" class="detalle-area" style="display:none;">
            <h2 id="detalleTitulo"></h2>
            <div id="detalleInner" class="detalle-inner"></div>
        </div>

    </section>


    <section id="configView" style="display:none;">

      <div class="config-toolbar">
        <div style="display:flex;gap:8px;align-items:center;">
          <label><strong>Modo configuraci√≥n visual</strong></label>
        </div>

        <div style="margin-left:auto; display:flex; gap:8px;">
          <input id="addHitoTitleInput" placeholder="T√≠tulo nuevo hito" />
          <select id="addHitoPriority">
            <option value="Alta">Alta</option>
            <option value="Media" selected>Media</option>
            <option value="Baja">Baja</option>
          </select>
          <button id="btnAddHitoVisual" class="btn blue">Agregar Hito</button>
          <button id="btnResetSeed" class="btn red">Restaurar datos iniciales</button>
        </div>
      </div>

      <div id="hitosConfigWrap" aria-label="Hitos configurables">
        </div>

      <div style="margin-top:12px; display:flex; gap:8px; align-items:center;">
        <button id="btnSaveAll" class="btn green">Guardar cambios</button>
        <div class="muted" style="font-size:13px;">Puedes arrastrar y soltar los hitos para reordenarlos.</div>
      </div>

      <div style="margin-top:16px; border-top: 1px solid #eee; padding-top: 12px; display:flex; gap:12px; align-items:center; flex-wrap: wrap;">
          <button id="btnExportData" class="btn blue">üì• Exportar Configuraci√≥n (JSON)</button>
          <label for="fileInput" class="btn">üì§ Importar Configuraci√≥n</label>
          <input type="file" id="fileInput" accept=".json" style="display: none;">
          <div class="muted" style="font-size:13px;">Usa esta funci√≥n para compartir la l√≠nea de avance entre equipos.</div>
      </div>

      <div id="configNotice" aria-live="polite" class="notice" style="display:none; margin-top:8px;"></div>
    </section>


    <script src="app.js"></script>

    <script>
      // Navegaci√≥n desde el bot√≥n Menu (ajusta la ruta si tu index principal est√° en otra ubicaci√≥n)
      document.getElementById('btnMenu')?.addEventListener('click', function(){
        // Navegar directamente al √≠ndice principal
        window.location.href = '../index.html';
      });
    </script>
</body>
</html>
