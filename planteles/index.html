<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Planteles — Línea de Avance</title>

    <!-- CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- ============================
         BARRA SUPERIOR
    ============================= -->
    <header class="topbar">
        <h1>Dashboard Planteles — Línea de Avance</h1>

        <div class="tabs">
            <button class="tab active" data-view="visual" onclick="switchView('visual')">Visualización</button>
            <button class="tab" data-view="config" onclick="switchView('config')">Configuración</button>
        </div>
    </header>


    <!-- ============================
         VISUALIZACIÓN
    ============================= -->
    <section id="visualView">

        <div id="hitosWrap" class="hitos-wrap">
            <!-- Línea horizontal -->
            <div id="connectorLine" class="connector-line"></div>
        </div>

        <!-- Detalle del hito -->
        <div id="detalleArea" class="detalle-area">
            <h2 id="detalleTitulo"></h2>
            <div id="detalleInner"></div>
        </div>

    </section>


    <!-- ============================
         CONFIGURACIÓN
    ============================= -->
    <section id="configView" style="display:none;">

        <div class="config-grid">
            <!-- PANEL HITOS -->
            <div class="config-panel">
                <h3>Hitos</h3>
                <select id="selectHitoEdit" aria-label="Seleccionar hito"></select>

                <label for="editHitoDesc">Descripción</label>
                <textarea id="editHitoDesc"></textarea>

                <label for="editHitoAvance">Avance (%):</label>
                <input id="editHitoAvance" type="number" min="0" max="100" />

                <label for="editHitoPriority">Prioridad</label>
                <select id="editHitoPriority">
                    <option value="Alta">Alta</option>
                    <option value="Media">Media</option>
                    <option value="Baja">Baja</option>
                </select>

                <div class="btn-row">
                    <button id="btnNewHito" class="btn">Nuevo</button>
                    <button id="btnSaveHito" class="btn green">Guardar</button>
                    <button id="btnDeleteHito" class="btn red">Eliminar</button>
                </div>

                <div style="margin-top:12px;">
                    <label>Crear Hito — título:</label>
                    <input type="text" id="newHitoTitle" placeholder="Título nuevo hito">
                    <label>Prioridad:</label>
                    <select id="newHitoPriority">
                        <option value="Alta">Alta</option>
                        <option value="Media">Media</option>
                        <option value="Baja">Baja</option>
                    </select>
                    <button id="btnAddHito" class="btn blue">Crear Hito</button>
                </div>
            </div>

            <!-- PANEL SUB-HITOS -->
            <div class="config-panel">
                <h3>Sub‑hitos</h3>
                <div id="subInstructions" class="muted">Selecciona un hito para ver sus sub‑hitos.</div>
                <select id="selectSubEdit" aria-label="Seleccionar sub-hito"></select>

                <label for="editSubTitle">Título</label>
                <input id="editSubTitle" type="text" />

                <label for="editSubAvance">Avance (%)</label>
                <input id="editSubAvance" type="number" min="0" max="100" />

                <div class="btn-row">
                    <button id="btnNewSub" class="btn">Nuevo</button>
                    <button id="btnSaveSub" class="btn green">Guardar</button>
                    <button id="btnDeleteSub" class="btn red">Eliminar</button>
                </div>

                <!-- Formulario inline de nuevo sub-hito -->
                <div class="inline-form" id="newSubForm" style="margin-top:10px;">
                    <input id="newSubTitle" placeholder="Título nuevo sub-hito" />
                    <input id="newSubAvance" type="number" min="0" max="100" value="0" />
                    <button id="btnAddSubConfirm" class="btn blue">Crear sub-hito</button>
                </div>
            </div>

            <!-- PANEL DOCUMENTOS -->
            <div class="config-panel">
                <h3>Documentos</h3>
                <div id="docInstructions" class="muted">Selecciona un sub-hito para ver sus documentos.</div>
                <select id="selectDocEdit" aria-label="Seleccionar documento"></select>

                <label for="editDocName">Nombre</label>
                <input id="editDocName" type="text" />

                <label for="editDocStatus">Estado</label>
                <select id="editDocStatus">
                    <option value="pending">Pendiente</option>
                    <option value="approved">Aprobado</option>
                    <option value="rejected">Rechazado</option>
                </select>

                <div class="btn-row">
                    <button id="btnNewDoc" class="btn">Nuevo</button>
                    <button id="btnSaveDoc" class="btn green">Guardar</button>
                    <button id="btnDeleteDoc" class="btn red">Eliminar</button>
                </div>

                <!-- Formulario inline nuevo doc -->
                <div class="inline-form" id="newDocForm" style="margin-top:10px;">
                    <input id="newDocName" placeholder="Nombre documento" />
                    <select id="newDocStatus">
                        <option value="pending">Pendiente</option>
                        <option value="approved">Aprobado</option>
                        <option value="rejected">Rechazado</option>
                    </select>
                    <button id="btnAddDocConfirm" class="btn blue">Agregar documento</button>
                </div>
            </div>
        </div>

        <!-- Area para mensajes (toasts) -->
        <div id="configNotice" aria-live="polite" class="notice" style="display:none"></div>
    </section>


    <!-- ============================
         LÓGICA JAVASCRIPT
    ============================= -->
    <script src="app.js"></script>
</body>
</html>
